---
title: "PsetSkills4"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
libraries
```{r}
library(tidyr)
library(dplyr)
```




1.1.1
There are 3 rules that make dataset tidy,each variable has their own columns,each observations has their own row, each value must have its own cell.
```{r}
View(billboard)

```
This data is tidy as it has one column for each variable (artist, track, data, and week),
It has one row for each obeservation and finally it has one cell for each observation. The missing values (na) are important as they tell us when a particular track was not on the top 100 billboard list

1.1.2 

```{r}
View(fish_encounters)
```

Again, this data is tidy. It has one column for each variable (fish, station, seen).  It also has one row observation and finally it has one cell for each measurement.

The data set has a missing set which is ovservations were the fish has not been observed.  As an example take fish 4865.  It has not been seen at Rstr.  Similarly fish 4864 has not been seen at Lisbon etc.

One way to remedy this might be to enter new rows for these "non" observations. This can be done rather cleverly as follows: 

```{r}
fish_encounters %>% pivot_wider(
  names_from = station, 
  values_from = seen,
  values_fill = 0
)
```



1.1.3
```{r}

View(us_rent_income)
```
In this table each observation has two rows (income, rent) and the margin of error.  It is therefore not tidy and this needs to be fixed

```{r}
us_rent_income %>%
    pivot_wider(
      names_from = variable, values_from = c(estimate,moe))
```

1.1.4

soccer <- tibble(
game = c("Real Sociedad", "Real Sociedad", "Huesca", "Huesca"),
player = c("Messi", "Griezmann", "Messi", "Griezmann"),
goals = c(2,1,2,1)
)

```{r}
soccer <- tibble(
game = c("Real Sociedad", "Real Sociedad", "Huesca", "Huesca"),
player = c("Messi", "Griezmann", "Messi", "Griezmann"),
goals = c(2,1,2,1)
)

View(soccer)

soccer %>%
pivot_wider(names_from = player, 
            values_from = goals) %>%
pivot_longer(Messi:Griezmann,
             names_to = "player",
             values_to = "goals") 
```
When they pivot_wider command is issued, the variables become Messi and Griesman.
When the pivot_longer command is issues, two new variables are created and their names are "player" and "goals".  The names go (i.e the Messi and Griesman are put in one column under the  "player" variable and the values in the table become the values of the "goals" variable.

1.1.5.

```{r}
table4a

table4a %>%
pivot_longer("1999":"2000",
names_to = "year",
values_to = "cases")

```
a number cannot be a variable name so it has to be a text


1.1.6

```{r}
soccer <- tribble(
~player, ~game,~game_no,~goals,
"Messi", "Real Sociedad","game1",2,
"Messi", "Huesca","game2",2,
"Messi", "Real Sociedad","game3",0,
"Messi", "Huesca","game4",1,
"Griezmann", "Real Sociedad","game1",1,
"Griezmann", "Huesca","game2",1,
)


soccer


soccer %>%
pivot_wider(names_from = player, 
            values_from = goals,
            values_fill = 0) 

```


